{"remainingRequest":"/Users/apple/Desktop/simple-twitter-vue/node_modules/babel-loader/lib/index.js!/Users/apple/Desktop/simple-twitter-vue/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/apple/Desktop/simple-twitter-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/apple/Desktop/simple-twitter-vue/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/apple/Desktop/simple-twitter-vue/src/views/Login.vue","mtime":1665178833900},{"path":"/Users/apple/Desktop/simple-twitter-vue/babel.config.js","mtime":1665155868062},{"path":"/Users/apple/Desktop/simple-twitter-vue/node_modules/cache-loader/dist/cjs.js","mtime":1665037748930},{"path":"/Users/apple/Desktop/simple-twitter-vue/node_modules/babel-loader/lib/index.js","mtime":1665037748499},{"path":"/Users/apple/Desktop/simple-twitter-vue/node_modules/cache-loader/dist/cjs.js","mtime":1665037748930},{"path":"/Users/apple/Desktop/simple-twitter-vue/node_modules/vue-loader/lib/index.js","mtime":1665037757708}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gaW1wb3J0IHsgVG9hc3QgfSBmcm9tICIuLy4uL3V0aWxzL2hlbHBlcnMiOwovLyBpbXBvcnQgYXV0aG9yaXphdGlvbkFQSSBmcm9tICIuLy4uL2FwaXMvYXV0aG9yaXphdGlvbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9nSW4iLAoKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWNjb3VudDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgaXNQcm9jZXNzaW5nOiBmYWxzZSwKICAgICAgZXJyb3JNc2c6ICIiCiAgICB9OwogIH0gLy8gbWV0aG9kczogewogIC8vICAgYXN5bmMgaGFuZGxlU3VibWl0KCkgewogIC8vICAgICB0cnkgewogIC8vICAgICAgIC8vIOmHjeaWsOioreWumumMr+iqpOioiuaBrwogIC8vICAgICAgIHRoaXMuZXJyb3JNc2cgPSAiIjsKICAvLyAgICAgICAvLyDooajllq7pqZforYnlpLHmlZfvvJrluLPomZ/miJblr4bnorzmspLmnInloavlr6sKICAvLyAgICAgICBpZiAoIXRoaXMuYWNjb3VudCB8fCAhdGhpcy5wYXNzd29yZCkgewogIC8vICAgICAgICAgVG9hc3QuZmlyZSh7CiAgLy8gICAgICAgICAgIGljb246ICJ3YXJuaW5nIiwKICAvLyAgICAgICAgICAgdGl0bGU6ICLoq4vovLjlhaXluLPomZ/lkozlr4bnorwiLAogIC8vICAgICAgICAgfSk7CiAgLy8gICAgICAgICByZXR1cm47CiAgLy8gICAgICAgfQogIC8vICAgICAgIC8vIOihqOWWrumpl+itieaIkOWKn++8muW4s+WvhueahuacieWhq+WvqwogIC8vICAgICAgIC8vIFNURVAxLiDorpPnmbvlhaXmjInpiJXlpLHmlYgKICAvLyAgICAgICB0aGlzLmlzUHJvY2Vzc2luZyA9IHRydWU7CiAgLy8gICAgICAgLy8gU1RFUDIuIOWwh+W4s+WvhumAj+mBjiBBUEkg6YCB5Zue5Ly65pyN5Zmo6amX6K2JCiAgLy8gICAgICAgY29uc3QgeyBkYXRhIH0gPSBhd2FpdCBhdXRob3JpemF0aW9uQVBJLnNpZ25Jbih7CiAgLy8gICAgICAgICBhY2NvdW50OiB0aGlzLmFjY291bnQsCiAgLy8gICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzd29yZCwKICAvLyAgICAgICB9KTsKICAvLyAgICAgICAvLyBTVEVQMy0xLiDluLPlr4bpqZforYnlpLHmlZfvvIxBUEkg5Zue5YKz6Yyv6KqkCiAgLy8gICAgICAgaWYgKGRhdGEuc3RhdHVzID09PSAiZXJyb3IiKSB7CiAgLy8gICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZGF0YS5tZXNzYWdlKTsKICAvLyAgICAgICB9CiAgLy8gICAgICAgLy8gU1RFUDMtMi4g5biz5a+G6amX6K2J5oiQ5YqfCiAgLy8gICAgICAgLy8g5bCHIHRva2VuIOWtmOWcqCBsb2NhbFN0b3JhZ2Ug6KOhCiAgLy8gICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgZGF0YS50b2tlbik7CiAgLy8gICAgICAgLy8g5oqKIEFQSSDlm57lgrPnmoTnm67liY3kvb/nlKjogIXos4fmlpnlrZjpgLIgVnVleCDoo6EKICAvLyAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInNldEN1cnJlbnRVc2VyIiwgZGF0YS51c2VyKTsKICAvLyAgICAgICAvLyDnmbvlhaXmiJDlip8sIOebtOaOpei9ieWdgOWIsOmmlumggSDvvIjkuI3pnIDpgoTljp8gaXNQcm9jZXNzaW5nIOeahOeLgOaFi++8iQogIC8vICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvbWFpbiIpOwogIC8vICAgICB9IGNhdGNoIChlcnJvcikgewogIC8vICAgICAgIHRoaXMucGFzc3dvcmQgPSAiIjsgLy8g5biz6Jmf5oiW5a+G56K86Ly45YWl6Yyv6Kqk5b6M77yM5bCH5a+G56K85qyE5L2N5riF56m6CiAgLy8gICAgICAgdGhpcy5pc1Byb2Nlc3NpbmcgPSBmYWxzZTsgLy8g5Zug54K655m75YWl5aSx5pWX77yM5omA5Lul6KaB5oqK5oyJ6YiV54uA5oWL6YKE5Y6fCiAgLy8gICAgICAgLy8g6Yyv6Kqk6YCa55+l6JmV55CGCiAgLy8gICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTsKICAvLyAgICAgICBpZiAoZXJyb3IubWVzc2FnZSA9PT0gIlRoaXMgYWNjb3VudCBkaWRuJ3QgZXhpc3QhIikgewogIC8vICAgICAgICAgdGhpcy5lcnJvck1zZyA9IGVycm9yLm1lc3NhZ2U7CiAgLy8gICAgICAgICBUb2FzdC5maXJlKHsKICAvLyAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAvLyAgICAgICAgICAgdGl0bGU6ICLluLPomZ/kuI3lrZjlnKjvvIzoq4vph43mlrDlmJfoqaYiLAogIC8vICAgICAgICAgfSk7CiAgLy8gICAgICAgfSBlbHNlIGlmIChlcnJvci5tZXNzYWdlID09PSAicGFzc3dvcmQgaXMgaW5jb3JyZWN077yBIikgewogIC8vICAgICAgICAgdGhpcy5lcnJvck1zZyA9IGVycm9yLm1lc3NhZ2U7CiAgLy8gICAgICAgICBUb2FzdC5maXJlKHsKICAvLyAgICAgICAgICAgaWNvbjogImVycm9yIiwKICAvLyAgICAgICAgICAgdGl0bGU6ICLlr4bnorzpjK/oqqTvvIzoq4vph43mlrDlmJfoqaYiLAogIC8vICAgICAgICAgfSk7CiAgLy8gICAgICAgfSBlbHNlIHsKICAvLyAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSBlcnJvci5tZXNzYWdlOwogIC8vICAgICAgICAgVG9hc3QuZmlyZSh7CiAgLy8gICAgICAgICAgIGljb246ICJlcnJvciIsCiAgLy8gICAgICAgICAgIHRpdGxlOiAi54Sh5rOV5oiQ5Yqf55m75YWl77yM6KuL56iN5b6M5YaN6KmmIiwKICAvLyAgICAgICAgIH0pOwogIC8vICAgICAgIH0KICAvLyAgICAgfQogIC8vICAgfSwKICAvLyB9LAoKCn07"},{"version":3,"mappings":"AA0EA;AACA;AAEA;EACAA,aADA;;EAEAC;IACA;MACAC,WADA;MAEAC,YAFA;MAGAC,mBAHA;MAIAC;IAJA;EAMA,CATA,CAUA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;;AA1EA","names":["name","data","account","password","isProcessing","errorMsg"],"sourceRoot":"src/views","sources":["Login.vue"],"sourcesContent":["<template>\n  <div class=\"mx-auto\" style=\"width: 400px\">\n    <div class=\"mx-auto\" style=\"width: 40px\">\n      <img\n        class=\"mx-auto mt-5\"\n        width=\"40px\"\n        src=\"https://i.postimg.cc/Dfp23k8g/logo-2x.png\"\n        alt=\"LogoImage\"\n      />\n    </div>\n    <h3 class=\"title text-center font-weight-bold mt-4\">登入 Alphitter</h3>\n\n    <form @submit.prevent.stop=\"handleSubmit\">\n      <div class=\"form-wrapper\">\n        <label for=\"account\">帳號</label>\n        <div>\n          <input\n            id=\"account\"\n            v-model=\"account\"\n            name=\"account\"\n            type=\"text\"\n            class=\"form\"\n            placeholder=\"請輸入帳號\"\n            required\n            autofocus\n          />\n          <div class=\"error-alert\">\n            <span class=\"msg\" v-if=\"errorMsg === 'This account didn\\'t exist!'\"\n              >帳號不存在</span\n            >\n          </div>\n        </div>\n      </div>\n\n      <div class=\"form-wrapper\">\n        <label for=\"password\">密碼</label>\n        <div>\n          <input\n            id=\"password\"\n            v-model=\"password\"\n            name=\"password\"\n            type=\"password\"\n            class=\"form\"\n            placeholder=\"請輸入密碼\"\n            autocomplete=\"current-password\"\n            required\n          />\n          <div class=\"error-alert\">\n            <span class=\"msg\" v-if=\"errorMsg === 'password is incorrect！'\"\n              >密碼錯誤</span\n            >\n          </div>\n        </div>\n      </div>\n\n      <div class=\"mt-4\">\n        <button\n          type=\"submit\"\n          class=\"btn btn-info btn-singin\"\n          :disabled=\"isProcessing\"\n        >\n          {{ isProcessing ? \"驗證中\" : \"登入\" }}\n        </button>\n      </div>\n    </form>\n    <div class=\"d-flex mt-4 justify-content-end\">\n      <router-link class=\"mx-1\" to=\"/signup\"> 註冊 </router-link>\n      <span>・</span>\n      <router-link class=\"mx-1\" to=\"/admin\"> 後台登入 </router-link>\n    </div>\n  </div>\n</template>\n\n<script>\n// import { Toast } from \"./../utils/helpers\";\n// import authorizationAPI from \"./../apis/authorization\";\n\nexport default {\n  name: \"LogIn\",\n  data() {\n    return {\n      account: \"\",\n      password: \"\",\n      isProcessing: false,\n      errorMsg: \"\",\n    };\n  },\n  // methods: {\n  //   async handleSubmit() {\n  //     try {\n  //       // 重新設定錯誤訊息\n  //       this.errorMsg = \"\";\n\n  //       // 表單驗證失敗：帳號或密碼沒有填寫\n  //       if (!this.account || !this.password) {\n  //         Toast.fire({\n  //           icon: \"warning\",\n  //           title: \"請輸入帳號和密碼\",\n  //         });\n  //         return;\n  //       }\n\n  //       // 表單驗證成功：帳密皆有填寫\n  //       // STEP1. 讓登入按鈕失效\n  //       this.isProcessing = true;\n\n  //       // STEP2. 將帳密透過 API 送回伺服器驗證\n  //       const { data } = await authorizationAPI.signIn({\n  //         account: this.account,\n  //         password: this.password,\n  //       });\n\n  //       // STEP3-1. 帳密驗證失敗，API 回傳錯誤\n  //       if (data.status === \"error\") {\n  //         throw new Error(data.message);\n  //       }\n\n  //       // STEP3-2. 帳密驗證成功\n  //       // 將 token 存在 localStorage 裡\n  //       localStorage.setItem(\"token\", data.token);\n  //       // 把 API 回傳的目前使用者資料存進 Vuex 裡\n  //       this.$store.commit(\"setCurrentUser\", data.user);\n  //       // 登入成功, 直接轉址到首頁 （不需還原 isProcessing 的狀態）\n  //       this.$router.push(\"/main\");\n  //     } catch (error) {\n  //       this.password = \"\"; // 帳號或密碼輸入錯誤後，將密碼欄位清空\n  //       this.isProcessing = false; // 因為登入失敗，所以要把按鈕狀態還原\n\n  //       // 錯誤通知處理\n  //       console.error(error.message);\n  //       if (error.message === \"This account didn't exist!\") {\n  //         this.errorMsg = error.message;\n  //         Toast.fire({\n  //           icon: \"error\",\n  //           title: \"帳號不存在，請重新嘗試\",\n  //         });\n  //       } else if (error.message === \"password is incorrect！\") {\n  //         this.errorMsg = error.message;\n  //         Toast.fire({\n  //           icon: \"error\",\n  //           title: \"密碼錯誤，請重新嘗試\",\n  //         });\n  //       } else {\n  //         this.errorMsg = error.message;\n  //         Toast.fire({\n  //           icon: \"error\",\n  //           title: \"無法成功登入，請稍後再試\",\n  //         });\n  //       }\n  //     }\n  //   },\n  // },\n};\n</script>\n\n\n<style lang=\"scss\">\n@import \"../assets/scss/login.scss\";\n</style>"]}]}